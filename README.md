# 算法题分类题单与思路总结

又开一新坑, 记录一下最近重新刷题的历程

所有题会按照主要知识点分类, 难度递增, 适合按模块集中练习, 并总结经验, 内化为自己的知识. 

每道题我会简评两句, 并尝试总结出每类题型的特征. 简评点到为止, 起到暗示作用, 适合学习过数据结构的同学参考. 

题目来源: Leetcode, Luogu, Acwing, 蓝桥杯官网. 

我会记录我个人认为有价值, 可以带来思考的题目. 不会记录偏难怪题. 

## 前缀和

蓝桥杯最爱考的题型之一, 板子很简单, 但是可以考的很难

特征是频繁的区间求和, 求异或和, 求或和, 甚至是求区间的一些函数

#### [Leetcode560-和为K的子数组](https://leetcode.cn/problems/subarray-sum-equals-k/description/)

给一个有正有负的数组, 求里面有多少个连续子数组和为K

> 看到"和为K的子数组"很难不想到前缀和, 但之后怎么办? n = 2e4, 明显不能枚举区间起点和终点
>
> 这里要借鉴"两数之和"的思想

#### [Leetcode42-接雨水](https://leetcode.cn/problems/trapping-rain-water/description/)

经久不衰的经典面试题

<img src="https://pic.cirno.fun/sssn-blog-pics/rainwatertrap-20250324175419632.png" alt="img" style="zoom:67%;" />

给一个这样的数组, 问能接多少个单位的雨水?

> 实际上, 一个下标i处可以接到的雨水量是取决于左右区间最高点的较低的那个: min(max(height[:i], height[i+1:]))
>
> 此外, 这种题还可以用**枚举右, 维护左**的方式, 优化一次遍历的复杂度

#### [Leetcode2680-最大或值](https://leetcode.cn/problems/maximum-or/description/)

有一个整数数组nums, 你有k次操作机会, 每次操作可以任选一个数乘2, 求能得到的最大或和(nums[0] | nums[1] | nums[2] | ...)

> 两个思维点: 
>
> 1. 所有的k次操作操作必须施加在一个数上 (如何证明?)
> 2. 可以枚举所有的数, 尝试对他操作, 用前后缀和更新答案
>
> 可以**枚举右, 维护左**优化

#### [Leetcode135-分发糖果](https://leetcode.cn/problems/candy/description/)

有一排小孩, 每一个小孩有一个评分, 所以你拿到了一个评分数组ratings[]

你必须给每个孩子至少发一个糖果, 并保证如果相邻的孩子中, 评分更高的那个拿到更多糖果(相邻但相同评分孩子可以不一样), 求最少发多少糖果

> 我觉得这也是前缀和
>
> 维护两个数组left[], right[], 分别记录只看左边(右边), 一个孩子最少发多少糖果, 则这个孩子应该发max(left[i], right[i])
>
> 同样的, 可以**枚举右, 维护左**来优化

## 差分数组

没太在竞赛里见过

差分数组是前缀和的逆运算, 题目特征是**对一个点的操作会映射到区间上**

## 滑动窗口

Leetcode与互联网面试非常爱出各种滑动窗口

#### [Leetcode3-无重复字符的最大子串](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

给定一个字符串, 求最长的连续子串, 满足没有重复字符

> 滑动窗口板子题, 先延展右边, 再退缩左边, 注意处理边界
> 虽然简单, 但要体会这个思想

#### [Leetcode438-找到字符串中所有的异位词](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)

给定一个长字符串s和一个短字符串p, 求s中所有p的异位词的开始下标

异位词: 长度相同, 所有字母出现频次相同

> 可以用定长滑动窗口, 也可以用不定长的
>
> 不要每次重新统计字母出现频率, 太慢了

## 搜索

#### [Acwing187-导弹拦截系统](https://www.acwing.com/problem/content/189/)

给定一个数组, 求他最少可以被分解成多少个严格单调子序列

比如[3, 5, 2, 4, 1]最少被分解为[3, 4]和[5, 2, 1]两个

> 搜索+剪枝+LIS的题, 有点难度
>
> Acwing的数据卡的很死, python容易T掉一个点
>
> 依次枚举每个数, 他只可能被append到一个递增子序列后, 或者一个递减子序列后
>
> 用LIS的NlogN做法那个数组来维护所有的系统处理的导弹序列

## 动态规划

### 我和我的子序列朋友们

给一个整数数组, 然后各种花样

#### [Leetcode300-最长递增子序列](https://leetcode.cn/problems/longest-increasing-subsequence/description/)

每个人学DP避不开的一道题

给定一个nums, 求最长上升子序列(LIS)长度, 这个子序列是可以断的, 比如[1, 3, 5]是[1, 2, 3, 4, 5]的子序列

> 两种解法, N^2, NlogN
> 学完之后记得看一下二分库,C++ STL里的lower_bound, python的bisect, 都很好用

#### [LuoguP1439-最长公共子序列](https://www.luogu.com.cn/problem/P1439)

给定两个长度为n的数组, 求最长公共子序列(LCS)长度

> 用哈希表映射数组的下标, 将LCS问题转化成LIS

#### [Acwing272-最长公共递增子序列](https://www.acwing.com/problem/content/description/274/)

给定两个长度为n的数组, 求最长公共递增子序列(LCIS)长度

> 既要公共, 又要递增? 别被这么简单的描述骗了, 这题不简单

#### [LuoguP1020-导弹拦截 | NOIP 1999提高组](https://www.luogu.com.cn/problem/P1020)

给一个数组, 求他的**最长不升子序列**, 再求他最少能分解出几个不升子序列

> 1. 求最长不升子序列
> 2. 根据Dilworth定理, 分解出不升子序列的最小个数等于最长上升子序列的长度
>
> 这个Dilworth定理也太搞人心态了, 我不知道如果不知道这个定理怎么做这题, 能自己推出这种逆天结论

#### [Acwing187-导弹拦截系统](https://www.acwing.com/problem/content/189/)

> 参见 搜索-Acwing187-导弹拦截系统

### 字符串DP

字符串DP有自己的套路: 增删改, 编辑距离; 一般两个字符串, 二维一拼, 推转移方程, ij开滚

#### [Leetcode1143-最长公共子序列](https://leetcode.cn/problems/longest-common-subsequence/description/)

虽然叫子序列, 但其实和字符串编辑有关

### 走格子模型

给一个二维棋盘, 每个位置有一个价值, 一般是左上角走到右下角, 取走路径上的元素价值, 状态转移就是上面和左面

如果允许走回头路, 则不适用dp

#### [Acwing1017-摘花生](https://www.acwing.com/problem/content/1017/)

纯板子题

#### [Acwing898-数字三角形](https://www.acwing.com/problem/content/900/)

一个数字三角形, 一个位置可以往下走或者往右下走

问从最上面走到最下面的最大收益是多少

> 除了起点, 其他的点不能初始化为本点的价值, 他的价值只能来自转移

#### [Acwing1018-最低通行费](https://www.acwing.com/problem/content/1020/)

题目虽然可以上下左右走, 但是分析得到只能往下和往右走. 

> 同样的, 除了起点, 一个点的状态只能通过转移得到, 不能想当然的初始化
> 这样理解: 某点的价值不能白拿, 他必须付出来的代价(上面和左面的状态转移)

#### [LuoguP1002-过河卒 | NOIP 2002普及组T4](https://www.luogu.com.cn/problem/P1002)

一个棋盘格, 一个卒要从左上角走到右下角, 其中有一些点不能走

> 板子+不能走的点方案数=0, 除了马踩的地方不能走, 马本身的位置也不能走

#### [LuoguP1004-方格取数 | NOIP 2000提高组T4](https://www.luogu.com.cn/problem/P1004)

继续给一个棋盘格, 继续要从左上走到右下, 继续只能往右和往下

不同的是, 这次可以**走两次**, 求能拿到的最大价值

> 贪心做两次是错误的, 为什么?
>
> 第一次取数的结果会影响到第二次决策:
> 设想这样的情况, 如果第一次跑的时候最优路径有多条, 贪心并不会处理, 这些不同的路径就会影响到第二次的决策

#### [LuoguP1006-传纸条 | NOIP 2008提高组T3](https://www.luogu.com.cn/problem/P1006)

给一个数字矩阵, 每个位置代表一个同学的价值, 同学A在左上角, B在右下角, 他们两个要传纸条

- A给B的纸条只能往右, 往下传
- B给A的纸条走能往左, 往上传
- 一个位置的同学**最多帮一次忙**, 这意味着A和B的纸条路径不能交叉
- 求传一次纸条(两条不交叉路径)的最大价值

> 和方格取数异曲同工, 以下是思维链: 
>
> 1. **A给B, B给A是等价的**, 即传纸条没有方向性, 所以我们分析A给B传两次纸条, 路径不重叠即可
> 2. **路径不重叠意味着一定有一高一低两条路径**, 我们枚举低路径, 高路径只可能在他的上面范围
> 3. **因为路径不重合, 终点是不可达的**, 我们的答案是终点的上侧和左侧代价和



## 并查集

### 带权并查集

#### [LuoguP2024-食物链 | NOI 2001](https://www.luogu.com.cn/problem/P2024)

有一个生态圈, 内有三种动物, 他们的食物链呈环形: A吃B, B吃C, C吃A

现在给出K条断言, 每条断言的形如"X 吃 Y"或者 "X和Y是同类"

如果断言和已有真话的不冲突, 他就是真的, 否则是假的, 求这K条断言里面有多少假话

>  非常经典的带权并查集! 按照次序考虑以下的问题:
>
> 1. 如何写find函数的路径压缩?
> 2. 如何写union函数?
> 3. 如何判断在同一个集合的两个动物关系?
>
> 上面的问题, 不要画图画的满纸都是, 请用向量的角度思考(并查集的边是有向的)

## 数学相关

### 找规律

蓝桥杯真的很喜欢考找规律, 基本上在第四题这个位置



## 树形数据结构

### 哈夫曼树

哈夫曼树对**种类+计数**, **合并**, **操作两个对象代价是加和**, 这样的字眼很敏感

#### [LuoguP1090-合并果子 | NOIP 2004提高组](https://www.luogu.com.cn/problem/P1090)

地上有n堆果子, 每堆果子有重量, 每次你可以合并两堆果子, 代价是两堆果子的重量和

显然经过n-1次合并就能得到一整堆果子, 你需要计算最小代价

> 从贪心的角度想, 越早搬的果子搬的次数就越多
>
> 当然, 直接从哈夫曼树的角度想直接就有了
>
> 如何构造哈夫曼树? 弄一个小根堆, 每次取出两个合并, 再塞进去
